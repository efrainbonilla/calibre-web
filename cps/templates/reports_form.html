{% extends "layout.html" %}
{% block body %}
<div class="col-sm-8">
  <form role="form" id="formReports" name="formReports" action="{{ url_for('reports') }}" method="GET">
    <!--div class="form-group"-->
      <div class="bs-callout bs-callout-info">
        <div class="page-header">
            <h4>Informe <small></small></h4>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <select class="form-control" name="report" required="required">
                    {% for report in reports %}
                        {% if requestQuery.report %}
                            <option value="{{ report.key }}" selected="selected">{{ report.value }}</option>
                        {% else %}
                            <option value="{{ report.key }}">{{ report.value }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
        </div>
      </div>

      <div class="bs-callout bs-callout-info">
        <div class="page-header text-right">
            <h4>Filtrar por fecha <small></small></h4>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <td colspan="2">
                                <div class="radio">
                                    <label>
                                        {% if requestQuery.optionDate == 'del' %}
                                            <input type="radio" value="del"  class="" name="optionDate" checked="checked">
                                        {% else  %}
                                            <input type="radio" value="del"  class="" name="optionDate">
                                        {% endif %}
                                        Del
                                    </label>
                                </div>
                            </td>
                            <td>
                                <fieldset id="del" disabled="disabled">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            <select class="form-control" name="dateFormat">
                                                {% for dt in dateFormats %}
                                                    {% if requestQuery.dateFormat and dt.key == requestQuery.dateFormat %}
                                                        <option label="{{ dt.value }}" value="{{ dt.key }}" selected="selected">{{ dt.value }}</option>
                                                    {% else %}
                                                        <option label="{{ dt.value }}" value="{{ dt.key }}">{{ dt.value }}</option>
                                                    {% endif %}

                                                {% endfor %}
                                            </select>
                                        </div>
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

                                        </div>
                                    </div>
                                </fieldset>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="radio">
                                    <label>
                                        {% if requestQuery.optionDate == 'month' %}
                                            <input type="radio" value="month"  class="" name="optionDate" checked="checked">
                                        {% else  %}
                                            <input type="radio" value="month"  class="" name="optionDate">
                                        {% endif %}
                                        Por mes
                                    </label>
                                </div>
                            </td>
                            <td>
                                <fieldset id="month"  disabled="disabled">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            <select class="form-control" name="dateFormatMonth">
                                                {% for dtm in dateFormatMonths %}
                                                    {% if requestQuery.dateFormatMonth and dtm.key == requestQuery.dateFormatMonth %}
                                                        <option label="{{ dtm.value }}" value="{{ dtm.key }}" selected="selected">{{ dtm.value }}</option>
                                                    {% else %}
                                                        <option label="{{ dtm.value }}" value="{{ dtm.key }}">{{ dtm.value }}</option>
                                                    {% endif %}
                                                {% endfor %}
                                            </select>
                                        </div>
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                             <select class="form-control" name="dateFormatYear">
                                                 {% for dty in dateFormatYears %}
                                                     {% if requestQuery.dateFormatYear and dty.key == requestQuery.dateFormatYear %}
                                                         <option label="{{ dty.value }}" value="{{ dty.key }}" selected="selected">{{ dty.value }}</option>
                                                     {% else %}
                                                         <option label="{{ dty.value }}" value="{{ dty.key }}">{{ dty.value }}</option>
                                                     {% endif %}
                                                 {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                </fieldset>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="radio">
                                    <label>
                                        {% if requestQuery.optionDate == 'between' %}
                                            <input type="radio" value="between"  class="" name="optionDate" checked="checked">
                                        {% else  %}
                                            <input type="radio" value="between"  class="" name="optionDate">
                                        {% endif %}
                                        Por rango
                                    </label>
                                </div>
                            </td>
                            <td>
                                <fieldset id="between" disabled="disabled">
                                    <style>
                                      .full button span {
                                        background-color: limegreen;
                                        border-radius: 32px;
                                        color: black;
                                      }
                                      .partially button span {
                                        background-color: orange;
                                        border-radius: 32px;
                                        color: black;
                                      }
                                    </style>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            Desde
                                            <p class="input-group">
                                                {% if requestQuery.dateFrom %}
                                                    <input type="date" class="form-control" name="dateFrom" id="dateFrom" value="{{ requestQuery.dateFrom }}" required="required">
                                                {% else %}
                                                    <input type="date" class="form-control" name="dateFrom" id="dateFrom" required="required">
                                                {% endif %}
                                            </p>
                                        </div>
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            Hasta
                                            <p class="input-group">
                                                {% if requestQuery.dateTo %}
                                                    <input type="date" class="form-control" name="dateTo" id="dateTo" value="{{ requestQuery.dateTo }}" required="required">
                                                {% else %}
                                                    <input type="date" class="form-control" name="dateTo" id="dateTo" required="required">
                                                {% endif %}
                                            </p>
                                        </div>
                                    </div>
                                </fieldset>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
      </div>




        {#<div class="row">
            <div class="form-group col-sm-6">
              <label for="Publishstart">{{_('Publishing date from')}}</label>
              <div style="position: relative">
                <input type="date" class="form-control" name="Publishstart" id="Publishstart" value="">
                <input type="text" class="form-control fake-input hidden" id="fake_Publishstart" value="">
              </div>
            </div>
            <div class="form-group col-sm-6">
              <label for="Publishend">{{_('Publishing date to')}}</label>
              <div style="position: relative">
                <input type="date" class="form-control" name="Publishend" id="Publishend" value="">
                <input type="text" class="form-control fake-input hidden" id="fake_Publishend" value="">
              </div>
            </div>
        </div>#}


    <button type="submit" class="btn btn-default">{{_('Submit')}}</button>
  </form>

    {% if results %}
        <div class="">
            Resultados de reportes
        </div>
    {% endif %}
    {% if dateFrom and dateTo %}
        <p>{{ dateFrom }}</p>
        <p>{{ dateTo }}</p>
    {% endif %}
</div>
{% endblock %}

{% block js %}
<script>
  var language = '{{ g.user.locale }}';
</script>

<script src="{{ url_for('static', filename='js/libs/bootstrap-datepicker/bootstrap-datepicker.min.js') }}"></script>
{% if not g.user.locale == 'en' %}
<script src="{{ url_for('static', filename='js/libs/bootstrap-datepicker/locales/bootstrap-datepicker.' + g.user.locale + '.min.js') }}" charset="UTF-8"></script>
{% endif %}
<script src="{{ url_for('static', filename='js/libs/typeahead.bundle.js') }}"></script>
<script src="{{ url_for('static', filename='js/edit_books.js') }}"></script>
<script>
</script>
{% endblock %}
{% block header %}
<link href="{{ url_for('static', filename='css/libs/typeahead.css') }}" rel="stylesheet" media="screen">
<link href="{{ url_for('static', filename='css/libs/bootstrap-datepicker3.min.css') }}" rel="stylesheet" media="screen">
{% endblock %}
